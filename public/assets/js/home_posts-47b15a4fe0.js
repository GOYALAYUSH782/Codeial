{let t=()=>{let t=$("#new-post-form");t.submit(o=>{o.preventDefault(),$.ajax({type:"POST",url:"/posts/create-post",data:t.serialize(),success:t=>{let o=e(t.data.post);$("#posts-list-container>ul").prepend(o),new Noty({text:"Post Created successfully",type:"success",theme:"mint",timeout:5e3,closeWith:["click","button"],progressBar:!0}).show(),n($(".delete-post-button",o)),s($(".toggle-like-button",o))},error:t=>{console.log(t.resposeText)}})})},e=function(t){return $(`<li id="post-${t._id}">\n                    <p>\n                        ${t.content}\n                            <a class="delete-post-button"  href="/posts/destroy/${t._id}">X</a>\n                        <br>\n                        <small>\n                        ${t.user.name}\n                        <a class="toggle-like-button" data-likes="0" href="/likes/toggle/?id=${t._id}&type='Post'">\n                            0 Likes\n                        </a>\n                        </small>\n                        <div class="posts-comment">\n                                <form method="POST" action="/comments/create">\n                                    <input type="text" name="content" placeholder="Type here..." required>\n                                    <input type="hidden" name="post" value="${t._id}">\n                                    <button type="submit">Comment</button>\n                                </form>\n                        </div>\n                        <div id="post-comments-list">\n                            <ul id="post-comments-${t._id}">\n                            </ul>\n                        </div>\n                    </p>\n                </li>\n    `)},o=function(){var t=$(".delete-post-button");for(i of t)n(i)},n=function(t){$(t).click(function(e){e.preventDefault(),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){console.log(t),new Noty({text:"Post Deleted successfully",type:"error",theme:"mint",timeout:5e3,closeWith:["click","button"],progressBar:!0}).show(),$(`#post-${t.data.post._id}`).remove()},error:function(t){console.log(t.resposeText)}})})},s=function(t){$(t).click(function(e){e.preventDefault(),$.ajax({type:"post",url:$(t).prop("href"),success:function(e){let o=parseInt($(likelink).attr("data-likes"));o=e.data.deleted?-1:1,$(t).attr("data-likes",o),$(likelink).html(`${o} Likes`)},error:function(t){console.log(t.resposeText)}})})},l=function(){let t=$(".toggle-like-button");for(i of t)s(i)};t(),o(),l()}